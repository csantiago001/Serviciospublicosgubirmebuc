Perfecto. Basado en tu c√≥digo actual (que ya incluye `:root` y un esquema con `data-theme="dark"` parcial), vamos a **completar e implementar un sistema de tema claro/oscuro robusto, coherente y legible en todos los m√≥dulos**, sin romper tu dise√±o actual de *glassmorphism*, colores institucionales o funcionalidades.

---

## ‚úÖ OBJETIVOS
1. **Soporte completo** de modo claro (por defecto) y oscuro.
2. **Legibilidad garantizada**: fondo + texto con contraste ‚â• 4.5:1 en todos los elementos (incluyendo tablas, inputs, tarjetas, modales).
3. **Respeto por tu l√≥gica visual**: mantiene los degradados, transparencias y estilo ‚Äúglass‚Äù donde sea posible.
4. **Sin duplicaci√≥n**: usa tus variables CSS y evita reglas redundantes.
5. **Persistencia**: guarda la preferencia en `localStorage`.

---

## üõ†Ô∏è PASO 1: Completar las variables de tema oscuro

En tu c√≥digo ya tienes definido:

```css
[data-theme="dark"] {
  --surface: rgba(30, 41, 59, 0.95);
  --text-primary: #f8fafc;
  --text-secondary: #cbd5e0;
  --bg-glass: rgba(0, 0, 0, 0.3);
}
```

**Ampl√≠alo con m√°s variables necesarias para consistencia:**

```css
/* ===== VARIABLES DE TEMA OSCURO COMPLETO ===== */
[data-theme="dark"] {
  --surface: rgba(30, 41, 59, 0.95);
  --text-primary: #f8fafc;
  --text-secondary: #cbd5e0;
  --bg-glass: rgba(0, 0, 0, 0.3);
  --card-bg: rgba(15, 23, 42, 0.7);
  --input-bg: rgba(15, 23, 42, 0.8);
  --border-color: rgba(255, 255, 255, 0.1);
  --shadow-color: rgba(0, 0, 0, 0.5);
  --topbar-bg: rgba(15, 23, 42, 0.95);
  --sidebar-bg: rgba(15, 23, 42, 0.9);
  --table-header-bg: rgba(15, 23, 42, 0.9);
  --table-row-even: rgba(30, 41, 59, 0.6);
  --table-row-odd: rgba(15, 23, 42, 0.6);
}
```

---

## üõ†Ô∏è PASO 2: A√±adir soporte de tema a tus componentes clave

Estas reglas **no rompen tu dise√±o**, pero lo adaptan al modo oscuro:

```css
/* ===== TOPBAR Y SIDEBAR ===== */
[data-theme="dark"] .topbar {
  background: var(--topbar-bg) !important;
  border-bottom-color: var(--border-color) !important;
}

[data-theme="dark"] .sidebar {
  background: var(--sidebar-bg) !important;
  border-right-color: var(--border-color) !important;
}
[data-theme="dark"] .sidebar-header,
[data-theme="dark"] .nav-link {
  color: var(--text-primary) !important;
}
[data-theme="dark"] .nav-link:hover,
[data-theme="dark"] .nav-link.active {
  background: rgba(57, 255, 20, 0.15) !important;
}

/* ===== TARJETAS Y SECTIONS (glass) ===== */
[data-theme="dark"] .section-card {
  background: var(--card-bg) !important;
  color: var(--text-primary) !important;
  border-color: var(--border-color) !important;
}
[data-theme="dark"] .section-card h1,
[data-theme="dark"] .section-card h2,
[data-theme="dark"] .section-card h3,
[data-theme="dark"] .section-card h4 {
  color: var(--text-primary) !important;
  text-shadow: 0 1px 3px rgba(0,0,0,0.8) !important;
}

/* ===== INPUTS Y SELECTS ===== */
[data-theme="dark"] .search-bar,
[data-theme="dark"] .filter-select {
  background: var(--input-bg) !important;
  color: var(--text-primary) !important;
  border-color: var(--border-color) !important;
}
[data-theme="dark"] .search-bar::placeholder,
[data-theme="dark"] .filter-select::placeholder {
  color: #94a3b8 !important;
}

/* ===== BOTONES ===== */
[data-theme="dark"] .btn {
  background: linear-gradient(135deg, #1e40af, #0c4a6e) !important;
  color: white !important;
}
[data-theme="dark"] .btn:hover {
  opacity: 0.85 !important;
}

/* ===== MODAL ===== */
[data-theme="dark"] .modal-content {
  background: var(--card-bg) !important;
  color: var(--text-primary) !important;
}

/* ===== TABLA SALDOS (CR√çTICO) ===== */
[data-theme="dark"] #tablaSaldos thead tr {
  background: var(--table-header-bg) !important;
}
[data-theme="dark"] #tablaSaldos th,
[data-theme="dark"] #tablaSaldos td {
  color: var(--text-primary) !important;
}
[data-theme="dark"] #tablaSaldos tbody tr:nth-child(even) {
  background: var(--table-row-even) !important;
}
[data-theme="dark"] #tablaSaldos tbody tr:nth-child(odd) {
  background: var(--table-row-odd) !important;
}
[data-theme="dark"] #tablaSaldos tbody tr:hover {
  background: rgba(57, 255, 20, 0.15) !important;
}

/* ===== NOTIFICACIONES ===== */
[data-theme="dark"] .notification {
  background: var(--card-bg) !important;
  color: var(--text-primary) !important;
  border-left-color: #39FF14 !important;
}
```

> ‚úÖ **Nota**: Estas reglas se aplican **solo cuando `data-theme="dark"`**, por lo que no afectan el modo claro.

---

## üõ†Ô∏è PASO 3: Bot√≥n de alternancia (en Configuraci√≥n)

Agrega esto dentro de la secci√≥n `#configuracion`, por ejemplo debajo de "Accesibilidad":

```html
<!-- TARJETA: TEMA CLARO/OSC URO -->
<div style="background:rgba(6,64,43,0.2);border-radius:16px;padding:25px;text-align:center;transition:all 0.3s ease;margin-bottom:25px;">
  <div style="width:60px;height:60px;background:rgba(255,255,255,0.15);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 20px;box-shadow:0 4px 12px rgba(0,0,0,0.2);">
    <i class="fas fa-moon" id="themeToggleIcon" style="font-size:1.8rem;color:white;"></i>
  </div>
  <h3 style="color:white;font-weight:700;margin-bottom:12px;">Tema del sistema</h3>
  <p style="color:rgba(255,255,255,0.85);font-size:0.95rem;margin-bottom:20px;line-height:1.5;">
    Cambia entre modo claro y oscuro seg√∫n tu entorno
  </p>
  <button class="btn" id="themeToggleBtn" style="background:linear-gradient(135deg, #06402b, #0a5c3d);color:white;padding:8px 16px;font-size:0.85rem;">
    <i class="fas fa-sync-alt"></i> Alternar tema
  </button>
</div>
```

---

## üõ†Ô∏è PASO 4: L√≥gica JavaScript para alternar y persistir

Agrega esta funci√≥n **dentro de tus `<script>`** (por ejemplo, junto a `toggleAltoContraste`):

```javascript
function toggleTheme() {
  const html = document.documentElement;
  const currentTheme = html.getAttribute('data-theme') || 'light';
  const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
  
  html.setAttribute('data-theme', newTheme);
  localStorage.setItem('theme', newTheme);
  
  // Actualizar √≠cono
  const icon = document.getElementById('themeToggleIcon');
  if (icon) {
    icon.className = newTheme === 'dark' ? 'fas fa-moon' : 'fas fa-sun';
  }
  
  showNotification(
    `üé® Modo ${newTheme === 'dark' ? 'oscuro' : 'claro'} activado`,
    'success',
    2000
  );
}

// Inicializar al cargar
document.addEventListener('DOMContentLoaded', () => {
  const savedTheme = localStorage.getItem('theme') || 'light';
  document.documentElement.setAttribute('data-theme', savedTheme);
  const icon = document.getElementById('themeToggleIcon');
  if (icon) {
    icon.className = savedTheme === 'dark' ? 'fas fa-moon' : 'fas fa-sun';
  }
  
  // Vincular bot√≥n
  const toggleBtn = document.getElementById('themeToggleBtn');
  if (toggleBtn) {
    toggleBtn.addEventListener('click', toggleTheme);
  }
});
```

---

## ‚úÖ RESULTADO FINAL

- ‚úÖ Modo **claro**: fondo verde institucional + glass blanco (como ahora).
- ‚úÖ Modo **oscuro**: fondo oscuro profundo + elementos legibles, glass oscuro transl√∫cido.
- ‚úÖ **Todos los m√≥dulos** (Saldos, Novedades, B√∫squeda, Consolidado, etc.) se adaptan.
- ‚úÖ **Alto contraste y tema oscuro** pueden coexistir (aunque rara vez se usen juntos).
- ‚úÖ La preferencia se **guarda y recupera** entre sesiones.

---

¬øQuieres que te genere el **c√≥digo listo para copiar y pegar** en tu archivo (solo las partes nuevas)?
